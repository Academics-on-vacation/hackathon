# BVS Analytics - –°–µ—Ä–≤–∏—Å –∞–Ω–∞–ª–∏–∑–∞ –ø–æ–ª–µ—Ç–æ–≤ –ë–í–°

–°–µ—Ä–≤–∏—Å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–ª–µ—Ç–æ–≤ –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–∏—Ö –±–µ—Å–ø–∏–ª–æ—Ç–Ω–∏–∫–æ–≤ –≤ —Ä–µ–≥–∏–æ–Ω–∞—Ö –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –†–æ—Å–∞–≤–∏–∞—Ü–∏–∏.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìä **–ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö** –∏–∑ Excel —Ñ–∞–π–ª–æ–≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
- üîç **–ü–∞—Ä—Å–∏–Ω–≥ —Ç–µ–ª–µ–≥—Ä–∞–º–º** –ø–æ–ª–µ—Ç–æ–≤ –ë–í–° (SHR/DEP/ARR —Å–æ–æ–±—â–µ–Ω–∏—è)
- üó∫Ô∏è **–ì–µ–æ–ø—Ä–∏–≤—è–∑–∫–∞** –ø–æ–ª–µ—Ç–æ–≤ –∫ —Ä–µ–≥–∏–æ–Ω–∞–º –†–§
- üìà **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –º–µ—Ç—Ä–∏–∫–∏** –ø–æ–ª–µ—Ç–æ–≤
- üåê **REST API** –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- üìã **Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** API
- üéØ **–†–µ–π—Ç–∏–Ω–≥ —Ä–µ–≥–∏–æ–Ω–æ–≤** –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª–µ—Ç–æ–≤

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Backend**: Python 3.11+ + FastAPI
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: SQLite (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏) / PostgreSQL (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
- **–ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö**: pandas + openpyxl
- **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: Swagger UI
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: structlog

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd bvs-analytics/backend
pip install -r requirements.txt
```

### 2. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
python run.py
```

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8000

### 3. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc
- **Health Check**: http://localhost:8000/health

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç –ø–∞—Ä—Å–µ—Ä–∞ —Ç–µ–ª–µ–≥—Ä–∞–º–º

```bash
cd bvs-analytics/backend
python test_parser.py
```

### –¢–µ—Å—Ç API

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞
curl http://localhost:8000/health

# –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–∑–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫
curl http://localhost:8000/api/v1/flights/statistics/basic

# –†–µ–π—Ç–∏–Ω–≥ —Ä–µ–≥–∏–æ–Ω–æ–≤
curl http://localhost:8000/api/v1/flights/regions/rating
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API

### –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

```bash
curl -X POST "http://localhost:8000/api/v1/flights/import" \
     -H "Content-Type: multipart/form-data" \
     -F "file=@data/2024.xlsx"
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

```bash
# –ë–∞–∑–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
curl "http://localhost:8000/api/v1/flights/statistics/basic"

# –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
curl "http://localhost:8000/api/v1/flights/statistics/extended"

# –°–≤–æ–¥–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
curl "http://localhost:8000/api/v1/flights/statistics/summary"
```

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü–æ–ª–µ—Ç—ã –ø–æ —Ä–µ–≥–∏–æ–Ω—É
curl "http://localhost:8000/api/v1/flights/?region=–ú–æ—Å–∫–≤–∞&limit=10"

# –ü–æ–ª–µ—Ç—ã –ø–æ —Ç–∏–ø—É –ë–í–°
curl "http://localhost:8000/api/v1/flights/?aircraft_type=BLA&limit=10"

# –ü–æ–ª–µ—Ç—ã –∑–∞ –ø–µ—Ä–∏–æ–¥
curl "http://localhost:8000/api/v1/flights/?date_from=2024-01-01&date_to=2024-12-31"
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
bvs-analytics/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/           # REST API endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ core/          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –ë–î
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/        # SQLAlchemy –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schemas/       # Pydantic —Å—Ö–µ–º—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ services/      # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ parsers/           # –ü–∞—Ä—Å–µ—Ä—ã —Ç–µ–ª–µ–≥—Ä–∞–º–º
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt   # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îÇ   ‚îú‚îÄ‚îÄ run.py            # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ test_parser.py    # –¢–µ—Å—Ç—ã –ø–∞—Ä—Å–µ—Ä–∞
‚îú‚îÄ‚îÄ docs/                 # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ README.md
```

## –§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö

–°–µ—Ä–≤–∏—Å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–º–ø–æ—Ä—Ç Excel —Ñ–∞–π–ª–æ–≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤:

### 1. –§–æ—Ä–º–∞—Ç –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º (2024.xlsx)
- –õ–∏—Å—Ç—ã –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º: –ú–æ—Å–∫–≤–∞, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –∏ —Ç.–¥.
- –ö–æ–ª–æ–Ω–∫–∏: SHR, DEP, ARR (—Ç–µ–ª–µ–≥—Ä–∞–º–º—ã –ø–æ–ª–µ—Ç–æ–≤)

### 2. –î–µ—Ç–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫)
- –ö–æ–ª–æ–Ω–∫–∏: –†–µ–π—Å, –¢–∏–ø –í–°, –ë–æ—Ä—Ç. –Ω–æ–º–µ—Ä, –í–ª–∞–¥–µ–ª–µ—Ü, –í—Ä–µ–º—è –≤—ã–ª–µ—Ç–∞/–ø–æ—Å–∞–¥–∫–∏

### 3. –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (2025.xlsx)
- –ö–æ–ª–æ–Ω–∫–∏: –¶–µ–Ω—Ç—Ä –ï–° –û—Ä–í–î, SHR, DEP, ARR

## –ü—Ä–∏–º–µ—Ä—ã —Ç–µ–ª–µ–≥—Ä–∞–º–º

### SHR —Å–æ–æ–±—â–µ–Ω–∏–µ (–ø–ª–∞–Ω –ø–æ–ª–µ—Ç–∞)
```
(SHR-ZZZZZ
-ZZZZ0900
-M0016/M0026 /ZONA R0,7 5509N03737E/
-ZZZZ0900
-DEP/5509N03737E DEST/5509N03737E DOF/240101 EET/UUWV0001
OPR/–ú–ï–ù–ñ–£–õ–ò–ù –ê–õ–ï–ö–°–ï–ô –ü–ï–¢–†–û–í–ò4 REG/07C4935 TYP/BLA RMK/M–†11608
SID/7771445428)
```

### DEP —Å–æ–æ–±—â–µ–Ω–∏–µ (–≤—ã–ª–µ—Ç)
```
(DEP-ZZZZZ-ZZZZ0900-ZZZZ
-REG/07C4935 DOF/240101 RMK/MR11608 DEP/5509N03737E DEST/5509N03737E)
```

### ARR —Å–æ–æ–±—â–µ–Ω–∏–µ (–ø–æ—Å–∞–¥–∫–∞)
```
(ARR-ZZZZZ-ZZZZ0900-ZZZZ1515
-REG/07C4935 DOF/240101 RMK/MR11608 DEP/5509N03737E DEST/5509N03737E)
```

## –ú–µ—Ç—Ä–∏–∫–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### –ë–∞–∑–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª–µ—Ç–æ–≤
- –°—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–ª–µ—Ç–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ë–í–°
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- –ü–∏–∫–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –ø–æ —á–∞—Å–∞–º
- –ü–ª–æ—Ç–Ω–æ—Å—Ç—å –ø–æ–ª–µ—Ç–æ–≤ –Ω–∞ 1000 –∫–º¬≤
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–ª–µ—Ç–æ–≤ –ø–æ —á–∞—Å–∞–º
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –±–µ–∑ –ø–æ–ª–µ—Ç–æ–≤

### –†–µ–π—Ç–∏–Ω–≥ —Ä–µ–≥–∏–æ–Ω–æ–≤
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø–æ–ª–µ—Ç–æ–≤
- –°—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–ª–µ—Ç–æ–≤
- –ü–ª–æ—Ç–Ω–æ—Å—Ç—å –ø–æ–ª–µ—Ç–æ–≤ –Ω–∞ –ø–ª–æ—â–∞–¥—å —Ä–µ–≥–∏–æ–Ω–∞

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ —Ñ–∞–π–ª–µ `.env`:

```env
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
DATABASE_URL=sqlite:///./bvs_analytics.db

# API
API_V1_STR=/api/v1
PROJECT_NAME=BVS Analytics

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
SECRET_KEY=your-secret-key

# CORS
BACKEND_CORS_ORIGINS=["http://localhost:3000"]

# –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
MAX_UPLOAD_SIZE=50000000
UPLOAD_DIR=./uploads

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
LOG_LEVEL=INFO
```

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞
git clone <repository>
cd bvs-analytics/backend
pip install -r requirements.txt

# –ó–∞–ø—É—Å–∫
python run.py
```

### –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª

# –ó–∞–ø—É—Å–∫ —Å Gunicorn
pip install gunicorn
gunicorn app.main:app -w 4 -k uvicorn.workers.UvicornWorker --bind 0.0.0.0:8000
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- **Health Check**: `/health`
- **–ú–µ—Ç—Ä–∏–∫–∏**: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ FastAPI
- **–õ–æ–≥–∏**: –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª –∏ –∫–æ–Ω—Å–æ–ª—å

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è —Ö–∞–∫–∞—Ç–æ–Ω–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º –∑–∞–¥–∞–Ω–∏–µ–º.

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ Issues –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.